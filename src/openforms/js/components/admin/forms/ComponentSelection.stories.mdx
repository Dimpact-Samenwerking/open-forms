import {ArgsTable, Canvas, Meta, Story} from '@storybook/addon-docs';

import {FormContext} from 'components/admin/form_design/Context';

import ComponentSelection from './ComponentSelection';

<Meta title="Form design/ComponentSelection" component={ComponentSelection} />

## Usage

Given a context of available (Formio) fields/components, display them in a dropdown.

Note that this component relies on the `FormContext` provider.

export const Template = ({availableComponents, ...args}) => (
  <FormContext.Provider value={{components: availableComponents}}>
    <ComponentSelection {...args} />
  </FormContext.Provider>
);

## Presentation

{/* FIXME: onChange doesn't seem to work in canvas */}

<Canvas>
  <Story
    name="Default"
    args={{
      name: 'componentSelect',
      value: 'foo',
      onChange: () => null,
      availableComponents: {foo: {label: 'Foo'}, bar: {label: 'Bar'}},
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Props

<ArgsTable story="Default" />
